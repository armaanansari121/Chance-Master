/* apps/web/src/app/globals.css */
@import "tailwindcss";

/* =========================
   Palette & Theme Vars
   ========================= */
:root {
  /* existing app tones */
  --chance_master-bg: #0a1216;
  --chance_master-panel: #0f1b22;
  --chance_master-panel-2: #0c171e;
  --chance_master-ring: rgba(0, 255, 200, .15);

  --board-frame: #0f1b22;
  --board-shadow: rgba(0, 0, 0, .6);
  --sq-light: #18262f;
  --sq-dark: #0e191f;
  --coord: #6aa9a7;
  --move: rgba(0, 255, 200, .18);
  --last: rgba(66, 153, 225, .22);

  --glass-edge: rgba(255, 255, 255, .12);
  --glass-inner: rgba(255, 255, 255, .06);
  --glass-sheen: rgba(255, 255, 255, .14);
  --glass-line: rgba(255, 255, 255, .07);
  --glass-cyan: rgba(43, 213, 196, .10);

  /* minimal green/cyan accent */
  --accent: #2bd5c4;
  --accent-12: rgba(43, 213, 196, .12);
  --accent-16: rgba(43, 213, 196, .16);
  --accent-20: rgba(43, 213, 196, .20);
  --accent-25: rgba(43, 213, 196, .25);
  --accent-ring: rgba(43, 213, 196, .25);

  /* subtle panel tones */
  --panel: rgba(255, 255, 255, .03);
  --panel-border: rgba(255, 255, 255, .10);
  --panel-inner: rgba(255, 255, 255, .05);
}

@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
  }
}

/* =========================
   Base
   ========================= */
* {
  box-sizing: border-box;
}

html,
body {
  height: 100%;
}

body {
  background: #0a0b0f;
  color: #ededed;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

::selection {
  background: rgba(255, 255, 255, .12);
  color: #fff;
}

/* =========================
   Glass Cards (sidebar sections)
   ========================= */
.glass-card {
  border: 1px solid var(--panel-border);
  background: linear-gradient(180deg, var(--panel-inner), transparent);
  border-radius: 12px;
}

.glass-card:hover {
  border-color: var(--accent-16);
  box-shadow:
    inset 0 0 0 1px var(--accent-12),
    0 12px 28px rgba(0, 0, 0, .35);
}

/* =========================
   Minimal Glossy Buttons
   (gloss only on hover/focus)
   ========================= */
.btn {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .45rem;
  border-radius: 10px;
  padding: .6rem .9rem;
  font-size: .9rem;
  font-weight: 600;
  color: #e7f7f5;
  background: linear-gradient(180deg, rgba(255, 255, 255, .04), rgba(0, 0, 0, .04));
  border: 1px solid var(--panel-border);
  transition:
    border-color .2s ease,
    box-shadow .2s ease,
    transform .12s ease,
    background .2s ease;
  box-shadow: 0 8px 20px rgba(0, 0, 0, .28);
}

.btn:disabled {
  opacity: .45;
  cursor: not-allowed;
}

.btn::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, .12), transparent 45%),
    radial-gradient(120% 60% at 50% -40%, var(--accent-12), transparent 60%);
  opacity: 0;
  transition: opacity .2s ease;
  border-radius: inherit;
  pointer-events: none;
}

.btn:hover,
.btn:focus-visible {
  border-color: var(--accent-20);
  box-shadow:
    inset 0 0 0 1px var(--accent-12),
    0 12px 28px rgba(0, 0, 0, .38),
    0 0 0 2px var(--accent-ring);
}

.btn:hover::before,
.btn:focus-visible::before {
  opacity: .7;
}

.btn:active {
  transform: translateY(1px);
}

.btn-primary {
  color: #eafffb;
}

.btn-primary:hover,
.btn-primary:focus-visible {
  background:
    linear-gradient(180deg, rgba(255, 255, 255, .06), rgba(0, 0, 0, .06)),
    radial-gradient(100% 100% at 50% 0%, var(--accent-12), transparent 60%);
}

.btn-ghost {
  color: #e6f6f4;
  background: linear-gradient(180deg, rgba(255, 255, 255, .02), rgba(0, 0, 0, .02));
}

/* =========================
   Dice Tray (minimal tiles)
   ========================= */
.dice-tile {
  height: 56px;
  width: 56px;
  display: grid;
  place-content: center;
  border-radius: 10px;
  border: 1px solid var(--panel-border);
  background: linear-gradient(180deg, rgba(255, 255, 255, .04), rgba(0, 0, 0, .04));
  transition: border-color .2s ease, box-shadow .2s ease, transform .12s ease;
}

.dice-tile:hover {
  border-color: var(--accent-16);
  box-shadow: inset 0 0 0 1px var(--accent-12);
  transform: translateY(-1px);
}

.dice-label {
  margin-top: .25rem;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: .06em;
  color: #bfe9e5;
  opacity: .85;
}

/* fun micro-motion when rolling */
@keyframes diceRoll {
  0% {
    transform: translateY(0) rotate(0deg);
    filter: brightness(1);
  }

  30% {
    transform: translateY(-6px) rotate(12deg);
    filter: brightness(1.2);
  }

  60% {
    transform: translateY(3px) rotate(-8deg);
    filter: brightness(1.1);
  }

  100% {
    transform: translateY(0) rotate(0deg);
    filter: brightness(1);
  }
}

.animate-dice {
  animation: diceRoll 320ms ease-in-out infinite;
}

/* =========================
   Board Wrapper / Vignette
   ========================= */
.board-wrap {
  position: relative;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.10);
  background:
    radial-gradient(80% 80% at 20% 0%, rgba(43, 213, 196, 0.08) 0%, rgba(43, 213, 196, 0) 60%),
    radial-gradient(90% 70% at 100% 100%, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0) 60%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02));
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.08),
    0 10px 30px rgba(0, 0, 0, 0.45);
}

/* optional hairline grid */
.board-wrap::after {
  content: "";
  pointer-events: none;
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(to right, rgba(255, 255, 255, 0.06) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255, 255, 255, 0.06) 1px, transparent 1px);
  background-size: calc(100%/8) calc(100%/8);
  opacity: .2;
}

/* glass treatment */
.board-wrap.glass-board {
  background:
    radial-gradient(70% 40% at 15% 0%, var(--glass-cyan) 0%, transparent 70%),
    linear-gradient(180deg, rgba(255, 255, 255, .06), rgba(255, 255, 255, .02));
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, .10),
    0 18px 40px var(--board-shadow);
}

.board-wrap.glass-board .board-sheen {
  pointer-events: none;
  position: absolute;
  inset: 0;
  background:
    linear-gradient(to bottom, var(--glass-sheen), transparent 30%),
    linear-gradient(120deg, rgba(255, 255, 255, .12), transparent 45%);
  mix-blend-mode: screen;
  opacity: .35;
}

.board-wrap.glass-board .board-reflections {
  pointer-events: none;
  position: absolute;
  inset: -10% -10%;
  background:
    radial-gradient(80% 20% at 0% 0%, rgba(255, 255, 255, .06), transparent 60%),
    radial-gradient(50% 15% at 100% 25%, rgba(255, 255, 255, .05), transparent 60%);
  transform: rotate(-2deg);
  opacity: .35;
}

/* =========================
   Board Squares / Hints
   ========================= */
.themed-board [data-squarecolor="light"],
.themed-board [data-squarecolor="dark"] {
  position: relative;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, .06), rgba(255, 255, 255, 0) 28%),
    linear-gradient(0deg, rgba(0, 0, 0, .15), rgba(0, 0, 0, 0) 35%),
    var(--sq-light);
}

.themed-board [data-squarecolor="dark"] {
  background:
    linear-gradient(180deg, rgba(255, 255, 255, .05), rgba(255, 255, 255, 0) 28%),
    linear-gradient(0deg, rgba(0, 0, 0, .22), rgba(0, 0, 0, 0) 40%),
    var(--sq-dark);
}

.themed-board [data-squarecolor] {
  box-shadow:
    inset 0 0 0 1px var(--glass-line),
    inset 0 10px 18px rgba(255, 255, 255, .06),
    inset 0 -8px 16px rgba(0, 0, 0, .18);
}

.themed-board .rcb-square:hover {
  box-shadow:
    inset 0 0 0 1px var(--glass-edge),
    inset 0 16px 24px rgba(255, 255, 255, .10),
    inset 0 -10px 20px rgba(0, 0, 0, .22);
}

.themed-board [data-square-hint="true"] {
  box-shadow:
    inset 0 0 0 2px rgba(255, 255, 255, .10),
    inset 0 16px 24px rgba(255, 255, 255, .06);
}

.themed-board [data-lastmove="true"] {
  box-shadow:
    inset 0 0 0 9999px var(--last),
    inset 0 0 0 1px rgba(147, 197, 253, .25);
}

/* =========================
   Pieces
   ========================= */
.rcb-piece {
  opacity: .96;
  mix-blend-mode: screen;
  filter:
    drop-shadow(0 10px 22px rgba(0, 0, 0, .55)) drop-shadow(0 2px 0 rgba(255, 255, 255, .10)) saturate(1.18) brightness(1.08) contrast(1.10) hue-rotate(2deg);
  transform: translateZ(0);
  transition: transform .12s ease, filter .12s ease, opacity .12s ease;
}

.rcb-piece:hover {
  opacity: .99;
  filter:
    drop-shadow(0 14px 26px rgba(0, 0, 0, .6)) saturate(1.22) brightness(1.10) contrast(1.12);
  transform: translateY(-1px);
}

.rcb-piece:active {
  filter:
    drop-shadow(0 18px 30px rgba(0, 0, 0, .65)) saturate(1.24) brightness(1.1) contrast(1.14);
}

/* =========================
   Coordinates
   ========================= */
[data-board] .coordinates,
.chessboard .coordinates {
  color: var(--coord);
  opacity: .95;
  text-shadow: 0 1px 0 rgba(0, 0, 0, .6);
  font-weight: 600;
  letter-spacing: .02em;
}
